<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Phoenix Karting</title>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}" type="text/css">
     <script th:inline="javascript">
    	let mostrar =  /*[[${error}]]*/ false;
    </script>
    <script src="../static/js/mostrarLoginIncorrecto.js" th:src="@{/js/mostrarLoginIncorrecto.js}" defer ></script>
</head>
<body>
    <a class="navbar-brand bg-danger" href="#"><img th:src="@{media/logo gris.png}" src="../static/media/logo gris.png" alt="Phoenix Karting"></a>
    <nav class="navbar navbar-expand bg-danger navbar-dark text-dark">
        <div class="container-fluid justify-content-end">
          <ul class="navbar-nav w-100">
          	<li id="btnadmin" class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
              <a class="nav-link btn btn-dark text-danger mx-1" href="http://localhost:9000/sesiones/" role="button">Administración</a>
            </li>
            <li class="nav-item" sec:authorize="!isAuthenticated()">
              <a id="botonlogin" class="nav-link btn btn-dark text-danger mx-1" href="#" role="button"  data-bs-toggle="modal" data-bs-target="#login">Log in</a>
            </li>
            <li class="nav-item" sec:authorize="isAuthenticated()">
              <a class="nav-link btn btn-dark text-danger mx-1" href="#" role="button"  th:href="@{/logout}">Log out</a>
            </li>
          </ul>
        </div>
    </nav>

    <!-- The Modal -->
    <div class="modal text-white" id="login">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header bg-danger border-0">
            <h4 class="modal-title mx-auto">Log in</h4>
            <button type="button" class="btn-close mx-0" data-bs-dismiss="modal"></button>
          </div>

          <!-- Modal body -->
          <div class="modal-body bg-danger">
            <form method="POST" th:action="@{/login}" class="px-5">
              <input id="username" name="username" type="text" placeholder="Usuario" class="bg-danger my-2 border-0 text-white text-center">
              <input name="password" id="password" type="password" placeholder="Contraseña" class="bg-danger my-2 border-0 text-white text-center">
              <input type="submit" class="btn bg-white my-2"></input>
            </form>
            <p class="text-center my-1" th:if="${error}">Usuario / contraseña incorrectos</p>
          </div>

        </div>
      </div>
    </div>

    <div id="banner-main">
        <div class="text-white">
          <h1>Phoenix Karting</h1>
          <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Voluptates id ex eum dolorum eaque assumenda? Itaque quas tenetur atque iusto ducimus, quam molestias quod in. Totam necessitatibus quos consectetur nam.</p>
          <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eos debitis nobis fuga? Quos, deserunt atque est provident odit blanditiis nesciunt tenetur obcaecati maxime quam ducimus, dolorem perferendis. Libero, fugit? Accusamus!</p>
        </div>
    </div>
    <main class="w-75 mx-auto">
        <div id="circuit" class="row">
          <div class="col-lg- mt-4">
            <h2 class="text-center">Nuestro circuito</h2>
            <p class="text-center">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Repellendus at excepturi, voluptates explicabo ducimus delectus laudantium est quas, saepe beatae incidunt natus suscipit quibusdam iure molestiae consequuntur. Ab, 
              sed deserunt! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Magnam optio atque ut facilis dolorum est aspernatur similique quo labore debitis provident, nisi, aliquid saepe mollitia distinctio sit! Voluptatum, 
              praesentium recusandae! Lorem, ipsum dolor sit amet consectetur adipisicing elit. Repudiandae, error vero facere ex hic, reprehenderit modi provident nihil, incidunt accusantium odit. Quisquam delectus numquam commodi provident
               sapiente. Quis, tempora repellat?</p>
            <div id="datos-circuito" class="d-flex flex-row mt-5 text-center justify-content-around">
              <div class="mx-1">
                <div class="bg-dark mx-auto text-white">
                  <p>10</p>
                </div>
                <p class="h3 mt-3">Curvas a<br>dominar.</p>
              </div>
              <div class="mx-1">
                <div class="bg-dark mx-auto text-white">
                  <p th:text="${numeroPilotos}">150</p>
                </div>
                <p class="h3 mt-3">Pilotos<br>que batir.</p>
              </div>
              <div class="mx-1">
                <div class="bg-dark mx-auto text-white">
                  <p th:text="${#lists.size(karts)}">5</p>
                </div>
                <p class="h3 mt-3">Karts que<br>conducir.</p>
              </div>
            </div>
          </div>
          <div id="img-circuito" class="col-m-">
            <img th:src="@{/media/bg-main-png.png}" src="../static/media/bg-main-png.png" alt="circuito">
          </div>
        </div>
        
        <div id="karts" class="bg-danger mt-5 text-white">
          <h2 class="h2">Tarifas individuales</h2>
          <div id="karts-pc" class="d-flex flex-row px-4">
          
            <div class="card mx-2 border border-white border-1" th:each="kart : ${karts}">
              <img class="card-img-top" th:src="${not (#strings.isEmpty(kart.imgUrl))} 
								              ? ${kart.imgUrl} : 'https://cdn3.iconfinder.com/data/icons/vehicle-22/50/Kart-512.png'" alt="Kart">
              <div class="card-body">
                <h4 class="card-title" th:text="${kart.nombre}"></h4>
                <p class="card-text" th:text="${kart.descripcion}"></p>
                  <ul>
                    <li th:text="${kart.potencia + ' cv'}"></li>
                    <li th:text="${kart.centimetrosCubicos + ' cc'}"></li>
                    <li th:text="${kart.velocidadMaxima + ' km/h'}"></li>
                  </ul>
                <div class="separador"></div>
                <div class="precios w-100 mt-2 text-white d-flex flex-row">
                  <p>1 TANDA</p><p class="precio" th:text="${kart.precioSesion + ' €'}"></p>
                </div>
                <a href="#" class="btn btn-outline-light w-100" sec:authorize="isAuthenticated()">Reservar</a>
              </div>
            </div>
            
          </div>
          
          <div id="karts-mobile" class="carousel slide" data-bs-ride="carousel">

            <!-- The slideshow/carousel -->
            <div class="carousel-inner">
              <div class="carousel-item card border border-white border-1 w-100" th:each="kart, iter : ${karts}" th:classappend ="${iter.index==0} ? active">
                <img class="card-img-top" th:src="${not (#strings.isEmpty(kart.imgUrl))} 
								              ? ${kart.imgUrl} : 'https://cdn3.iconfinder.com/data/icons/vehicle-22/50/Kart-512.png'" alt="Kart">
	            <div class="card-body">
	              <h4 class="card-title" th:text="${kart.nombre}"></h4>
	              <p class="card-text" th:text="${kart.descripcion}"></p>
	                <ul>
	                  <li th:text="${kart.potencia + ' cv'}"></li>
	                  <li th:text="${kart.centimetrosCubicos + ' cc'}"></li>
	                  <li th:text="${kart.velocidadMaxima + ' km/h'}"></li>
	                </ul>
	              <div class="separador"></div>
	              <div class="precios w-100 mt-2 text-white d-flex flex-row">
	                <p>1 TANDA</p><p class="precio" th:text="${kart.precioSesion + ' €'}"></p>
	              </div>
	              <a href="#" class="btn btn-outline-light w-100" sec:authorize="isAuthenticated()">Reservar</a>
	            </div>
              </div>
            </div>

            <!-- Left and right controls/icons -->
            <button class="carousel-control-prev" type="button" data-bs-target="#karts-mobile" data-bs-slide="prev">
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#karts-mobile" data-bs-slide="next">
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>
    </main>
    <div class="w-100 mx-0 footercontainer">

	    <footer class="text-white text-center text-lg-start bg-dark">

	    <div class="container p-4">
	      
	      <div class="row mt-4">
	        <!--Grid column-->
	        <div class="col-lg-4 col-md-12 mb-4 mb-md-0">
	          <h5 class="text-uppercase mb-4">Phoenix Karting</h5>
	  
	          <p>
	            At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
	            voluptatum deleniti atque corrupti.
	          </p>
	  
	          <p>
	            Blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas
	            molestias.
	          </p>
	  
	          <div class="mt-4">
	            <!-- Facebook -->
	            <a type="button" class="btn btn-floating btn-primary btn-lg"><i class="fab fa-facebook-f"></i></a>
	            <!-- Dribbble -->
	            <a type="button" class="btn btn-floating btn-primary btn-lg"><i class="fab fa-dribbble"></i></a>
	            <!-- Twitter -->
	            <a type="button" class="btn btn-floating btn-primary btn-lg"><i class="fab fa-twitter"></i></a>
	            <!-- Google + -->
	            <a type="button" class="btn btn-floating btn-primary btn-lg"><i class="fab fa-google-plus-g"></i></a>
	            <!-- Linkedin -->
	          </div>
	        </div>
	        <!--Grid column-->
	  
	        <!--Grid column-->
	        <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
	          <h5 class="text-uppercase mb-4 pb-1">Search something</h5>
	  
	          <ul class="fa-ul" style="margin-left: 1.65em;">
	            <li class="mb-3">
	              <span class="fa-li"><i class="fas fa-home"></i></span><span class="ms-2">New York, NY 10012, US</span>
	            </li>
	            <li class="mb-3">
	              <span class="fa-li"><i class="fas fa-envelope"></i></span><span class="ms-2">info@example.com</span>
	            </li>
	            <li class="mb-3">
	              <span class="fa-li"><i class="fas fa-phone"></i></span><span class="ms-2">+ 01 234 567 88</span>
	            </li>
	            <li class="mb-3">
	              <span class="fa-li"><i class="fas fa-print"></i></span><span class="ms-2">+ 01 234 567 89</span>
	            </li>
	          </ul>
	        </div>
	        <!--Grid column-->
	  
	        <!--Grid column-->
	        <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
	          <h5 class="text-uppercase mb-4">Horarios</h5>
	  
	          <table class="table text-center text-white">
	            <tbody class="font-weight-normal">
	              <tr>
	                <td>Mon - Thu:</td>
	                <td>8am - 9pm</td>
	              </tr>
	              <tr>
	                <td>Fri - Sat:</td>
	                <td>8am - 1am</td>
	              </tr>
	              <tr>
	                <td>Sunday:</td>
	                <td>9am - 10pm</td>
	              </tr>
	            </tbody>
	          </table>
	        </div>
	        <!--Grid column-->
	      </div>
	      <!--Grid row-->
	    </div>
	    <!-- Grid container -->
	  
	    <!-- Copyright -->
	    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
	      <p>© 2021 Copyright: Álvaro Franco</p>
	    </div>
	    <!-- Copyright -->
	  </footer>
	  
	</div>
</body>
</html>